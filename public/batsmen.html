<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Top Batsmen</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" 
        integrity="sha384-dpuaG1suU0eT09tx5plTaGMLBsfDLzUCCUXOY2j/LSvXYuG6Bqs43ALlhIqAJVRb" crossorigin="anonymous" />
  <link rel="stylesheet" href="styles.css" />
  <style>
    body {
      background-color: #f8f9fa;
      padding: 20px;
    }

    .container {
      max-width: 1200px;
      margin: auto;
    }

    .table-header {
      background-color: #007bff;
      color: white;
    }

    .table th {
      text-align: center;
    }

    .table td {
      text-align: center;
    }

    .table-container {
      margin-top: 20px;
    }

    .loading {
      text-align: center;
      font-size: 1.5em;
      margin-top: 20px;
    }
  </style>
</head>

<body>
  <div class="container">
    <h1 class="text-center mb-4">Top Batsmen</h1>
    <div class="table-container">
      <div id="loading" class="loading">Loading...</div>
      <table id="batsmenTable" class="table table-striped table-bordered">
        <thead class="table-header">
          <tr>
            <th>Player</th>
            <th>Teams</th>
            <th>Matches</th>
            <th>Inns</th>
            <th>NO</th>
            <th>Runs</th>
            <th>HS</th>
            <th>Ave</th>
            <th>BF</th>
            <th>SR</th>
            <th>4s</th>
            <th>6s</th>
          </tr>
        </thead>
        <tbody id="batsmenTableBody">
          <!-- Data will be inserted here -->
        </tbody>
      </table>
    </div>
  </div>

  <script>
    // Function to fetch top batsmen and populate the table
    async function fetchTopBatsmen() {
      try {
        const response = await fetch('/top-batsmen');
        const data = await response.json();
        const tableBody = document.getElementById('batsmenTableBody');
        const loadingIndicator = document.getElementById('loading');

        // Clear the loading indicator
        loadingIndicator.style.display = 'none';

        // Populate the table
        tableBody.innerHTML = data.map(batsman => `
          <tr>
            <td>${batsman.Player}</td>
            <td>${batsman.Teams}</td>
            <td>${batsman.Mat}</td>
            <td>${batsman.Inns}</td>
            <td>${batsman.NO}</td>
            <td>${batsman.Runs}</td>
            <td>${batsman.HS}</td>
            <td>${batsman.Ave}</td>
            <td>${batsman.BF}</td>
            <td>${batsman.SR}</td>
            <td>${batsman['4s']}</td>
            <td>${batsman['6s']}</td>
          </tr>
        `).join('');
      } catch (error) {
        console.error('Error fetching top batsmen:', error);
      }
    }

    // Load data on page load
    window.onload = fetchTopBatsmen;
  </script>
</body>

</html>
